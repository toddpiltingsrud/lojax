<div data-jaxpanel="panel1" data-transition="flip-vertical">

    <h4>injecting content with @data-jaxpanel</h4>

    <p>
        When lojax handles a response from an AJAX request, it queries it for elements that have a data-jaxpanel attribute.
        It iterates over what it finds and looks for data-jaxpanel elements already on the page with the same value.
        When it finds a match, it applies a transition function to replace the old content with the new content.
        There is no set limit to the number of panels that can be handled, so it's possible to update multiple regions on the page with a single request.
    </p>

    <pre class="html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">div</span> data-jaxpanel<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;panel1&quot;</span> data-transition<span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;flip-vertical&quot;</span>&gt;</span>
&nbsp;
    <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">h4</span>&gt;</span>injecting content with @data-jaxpanel<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">h4</span>&gt;</span>
&nbsp;
    <span style="color: #009900;">&lt;<span style="color: #000000; font-weight: bold;">p</span>&gt;</span>
        When lojax handles a response from an AJAX request, it queries it for elements that have a data-jaxpanel attribute...
    <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">p</span>&gt;</span>
&nbsp;
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><span style="color: #000000; font-weight: bold;">div</span>&gt;</span></pre>

    <h4>@data-transition</h4>

    <p>
        An incoming data-jaxpanel can also have a data-transition attribute that specifies what kind of transition to apply.
        There are five:
    </p>

    <ul>
        <li>
            fade-in (default)
        </li>
        <li>
            flip-horizontal
        </li>
        <li>
            flip-vertical
        </li>
        <li>
            slide-left
        </li>
        <li>
            append-children (useful for endless scrolling)
        </li>
    </ul>

    <p>
        You can also create your own custom transitions. A transition is just a function that takes two arguments: oldPanel and newPanel.
    </p>

    <p>
        Here's the function for the flip-horizontal transition:
    </p>

<pre class="javascript" style="font-family:monospace;">jax.<span style="color: #660066;">Transitions</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'flip-horizontal'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span>
  <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>oldPanel<span style="color: #339933;">,</span> newPanel<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000066; font-weight: bold;">var</span> parent <span style="color: #339933;">=</span> $<span style="color: #009900;">&#40;</span>oldPanel<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">parent</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">addClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'flip-horizontal'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    $<span style="color: #009900;">&#40;</span>oldPanel<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">addClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'front'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    $<span style="color: #009900;">&#40;</span>newPanel<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">addClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'back'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">appendTo</span><span style="color: #009900;">&#40;</span>parent<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    setTimeout<span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
      parent.<span style="color: #660066;">addClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'flip'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">100</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    setTimeout<span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
      $<span style="color: #009900;">&#40;</span>oldPanel<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">remove</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
      parent.<span style="color: #660066;">removeClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'flip'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">removeClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'flip-horizontal'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
      $<span style="color: #009900;">&#40;</span>newPanel<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">removeClass</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'back'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1000</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
  <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span></pre>

    <div class="bottom-buttons">

        <a class="pull-left btn btn-default" href="#howitworks.html" data-method="ajax-get">
            <span class="glyphicon glyphicon-menu-left"></span>
            how it works
        </a>

        <a class="pull-right btn btn-default" href="#modals.html" data-method="ajax-get">
            modals
            <span class="glyphicon glyphicon-menu-right"></span>
        </a>

    </div>

</div>